# API noLabel game version: 0.0.1

### Префикс: /api/

## Пользователь

| Метод | Путь           | Описание                                   |
|-------|----------------|--------------------------------------------|
| GET   | /user/:user_id | Получить информацию о пользователе         |
| GET   | /user          | Получить информацию о всех пользователях   |
| POST  | /user          | Создать или обновление данных пользователя |

Пример ответа

```json
{
  "user_id": 610817,
  "first_name": "Андрей",
  "second_name": "Стрел",
  "login": "antidods",
  "email": "andrey@mail.ru",
  "phone": "+79271234567",
  "avatar": "/6b557c29-229a-45dc-8ae6-51a887ad0814/88d51a36-d4ee-4c85-8844-6d971ec2732a_ava_lite.jpg",
  "created_at": "2023-04-07T09:53:18.379Z",
  "updated_at": "2023-04-09T06:28:38.635Z",
  "leaderboard": {
    "user_id": 610817,
    "score": 510,
    "createdAt": "2023-04-12T12:39:57.286Z",
    "updated_at": "2023-04-12T14:17:47.349Z"
  },
  "theme": {
    "user_id": 610817,
    "theme": "light",
    "created_at": "2023-04-12T16:03:24.672Z",
    "updated_at": "2023-04-12T16:12:38.249Z"
  }
}
```

## Тема оформления

| Метод | Путь            | Описание                                |
|-------|-----------------|-----------------------------------------|
| get   | /theme/:user_id | Получить информацию о теме пользователя |
| post  | /theme          | Установить тему пользователя            |

Пример ответа

```json
{
  "user_id": 610817,
  "theme": "dark"
}
```

## Темы(посты) форума

| Метод  | Путь                    | Описание                                |
|--------|-------------------------|-----------------------------------------|
| GET    | /forum/topics/all       | Получить информацию о всех темах форума |
| GET    | /forum/topics/:topic_id | Получить информацию о теме форума       |
| POST   | /forum/topics           | Создать или обновить тему форума        |
| DELETE | /forum/topics           | Удалить тему форума                     |

Пример ответа

```json
{
  "id": 3,
  "title": "test",
  "lastMessage_id": null,
  "created_at": "2023-04-09T15:58:31.598Z",
  "updated_at": "2023-04-09T15:58:31.598Z",
  "user_id": null
}
```

## Сообщения форума

| Метод | Путь                        | Описание                                     |
|-------|-----------------------------|----------------------------------------------|
| GET   | /forum/messages/all         | Получить информацию о всех сообщениях форума |
| GET   | /forum/messages/:message_id | Получить информацию о сообщении форума       |
| POST  | /forum/messages/add         | Создать или обновить сообщение форума        |
| POST  | /forum/messages/            | Удалить сообщение форума                     |

Пример ответа

```json
{
  "id": 453,
  "topic_id": null,
  "text": "text",
  "user_id": 54646,
  "created_at": "2023-04-11T09:56:43.894Z",
  "updated_at": "2023-04-11T09:56:43.894Z"
}
```

## Лидерборд

| Метод | Путь                  | Описание                                   |
|-------|-----------------------|--------------------------------------------|
| GET   | /leaderboard/all      | Получение всей таблицы лидеров             |
| GET   | /leaderboard/:user_id | Получить очков пользователя по id          |
| POST  | /leaderboard          | Создать или обновление данных пользователя |

Пример ответа /leaderboard/all

```json
[
  {
    "score": 510,
    "user": {
      "first_name": "Андрей",
      "second_name": "Стрел",
      "avatar": "/6b557c29-229a-45dc-8ae6-51a887ad0814/88d51a36-d4ee-4c85-8844-6d971ec2732a_ava_lite.jpg"
    }
  },
  {
    "score": 506,
    "user": {
      "first_name": "Тест",
      "second_name": "Тест",
      "avatar": "/6b557c29-229a-45dc-8ae6-51a887ad0814/88d51a36-d4ee-4c85-8844-6d971ec2732a_ava_lite.jpg"
    }
  },
  {
    "score": 500,
    "user": {
      "first_name": "Тест",
      "second_name": "Тест",
      "avatar": "/6b557c29-229a-45dc-8ae6-51a887ad0814/88d51a36-d4ee-4c85-8844-6d971ec2732a_ava_lite.jpg"
    }
  }
]
```

Пример ответа /leaderboard/:user_id

```json
{
  "user_id": 610818,
  "score": 506,
  "createdAt": "2023-04-12T12:25:45.627Z",
  "updated_at": "2023-04-12T14:36:25.068Z",
  "user": {
    "user_id": 610818,
    "first_name": "Тест",
    "second_name": "Тест",
    "login": "test",
    "email": "andrey@mail.ru",
    "phone": "+79271234567",
    "avatar": "/6b557c29-229a-45dc-8ae6-51a887ad0814/88d51a36-d4ee-4c85-8844-6d971ec2732a_ava_lite.jpg",
    "created_at": "2023-04-07T11:47:09.480Z",
    "updated_at": "2023-04-11T10:01:42.049Z"
  }
}
```

## Emoji

| Метод  | Путь                  | Описание                                                 |
|--------|-----------------------|----------------------------------------------------------|
| GET    | /emoji/all/message_id | Получение всех emoji по id сообщения                     |
| POST   | /emoji                | Создать или обновление emoji по id сообщения и id автора |
| DELETE | /emoji                | Удалить emoji по id сообщения и id автора                |

Пример ответа

```json
[
  {
    "id": 2,
    "user_id": 610818,
    "message_id": 453,
    "emoji": "test2",
    "created_at": "2023-04-12T05:35:13.211Z",
    "updated_at": "2023-04-12T05:35:13.211Z"
  }
]
```



